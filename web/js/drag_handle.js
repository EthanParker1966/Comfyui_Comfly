export const dragHandle={createButton(e,t){const n=document.createElement("button");return n.style.backgroundImage="url('https://api.comfly.chat/wp-content/uploads/2024/07/Comfly-t拷贝.png')",n.style.backgroundSize="cover",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="center",n.textContent="",n.style.width="38px",n.style.height="38px",n.style.padding="10px",n.style.borderRadius="50%",n.style.margin="5px",n.style.backgroundColor="transparent",n.style.border="none",n.style.boxShadow="0 0 10px 8px rgba(255, 253, 1, 0.7)",n.style.cursor="move",n.style.transition="transform 0.2s, box-shadow 0.2s",n.style.animation="flame 1.5s infinite alternate",n.addEventListener("mouseover",(()=>{n.style.transition="transform 0.5s ease",n.style.transform="rotate(360deg)"})),n.addEventListener("mouseout",(()=>{n.style.transform="rotate(0deg)"})),n.addEventListener("mousedown",(()=>{n.style.transform="scale(0.95)",n.style.boxShadow="0 0 6px 5px rgba(255, 253, 1, 0.7)"})),n.addEventListener("mouseup",(()=>{n.style.transform="scale(1)",n.style.boxShadow="0 0 12px 8px rgba(255, 253, 1, 0.7)"})),n.addEventListener("click",(()=>{"none"===t.style.display?(t.style.display="flex",t.style.opacity=0,t.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{t.style.opacity=1}),10)):(t.style.opacity=0,setTimeout((()=>{t.style.display="none"}),500))})),this.makeDraggable(e,n),n},makeDraggable(e,t){let n,s,o,a,r=!1,l=0,d=0;const c=e=>{"touchstart"===e.type?(o=e.touches[0].clientX-l,a=e.touches[0].clientY-d):(o=e.clientX-l,a=e.clientY-d),e.target===t&&(r=!0)},i=e=>{o=n,a=s,r=!1},y=t=>{r&&(t.preventDefault(),"touchmove"===t.type?(n=t.touches[0].clientX-o,s=t.touches[0].clientY-a):(n=t.clientX-o,s=t.clientY-a),l=n,d=s,u(n,s,e))},u=(e,t,n)=>{n.style.transform="translate3d("+e+"px, "+t+"px, 0)"};let m;const p=(e,t)=>{m||(m=!0,setTimeout((()=>{e(),m=!1}),t))};t.addEventListener("mousedown",c),t.addEventListener("touchstart",c),document.addEventListener("mousemove",(e=>{p((()=>y(e)),10)})),document.addEventListener("touchmove",(e=>{p((()=>y(e)),10)})),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}};const style=document.createElement("style");style.textContent="\n@keyframes flame {\n    0% {\n        box-shadow: 0 0 8px 3px rgba(255, 253, 1, 0.5);\n    }\n    100% {\n        box-shadow: 0 0 8px 5px rgba(255, 165, 0, 0.7);\n    }\n}\n",document.head.append(style);
